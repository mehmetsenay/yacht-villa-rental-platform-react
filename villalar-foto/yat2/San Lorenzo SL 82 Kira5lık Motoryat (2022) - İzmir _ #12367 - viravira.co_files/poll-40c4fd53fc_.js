!function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t){!function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}([function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t),n(0);var i=document.createElement("div");i.className="smiley-svg-wrapper",i.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32">\n    <g fill="none" fill-rule="evenodd">\n        <path class="smiley-outer" d="M9.648.496h11.92c2.638 0 4.994 1.084 6.737 2.828 1.743 1.743 2.827 4.098 2.827 6.735V21.98c0 2.64-1.084 4.994-2.827 6.737-1.743 1.743-4.1 2.826-6.738 2.826H9.648c-2.638 0-4.995-1.083-6.737-2.826A9.428 9.428 0 0 1 .132 21.98V10.06a9.428 9.428 0 0 1 2.779-6.736C4.653 1.58 7.01.496 9.648.496z"/>\n        <path class="smiley-inner-fill" d="M10.26 14.254c-.66 0-1.177-.567-1.177-1.179 0-.708.517-1.225 1.177-1.225s1.225.517 1.225 1.225c0 .612-.565 1.179-1.225 1.179zM13.746 10.908L9.838 8.27l-.66.943 3.909 2.685zM22.085 9.259l-.659-.99-3.957 2.64.66.988zM15.632 20.19c-4.147 0-5.372 3.58-5.372 3.58s1.791-1.225 5.372-1.225c3.532 0 5.324 1.225 5.324 1.225s-1.178-3.58-5.324-3.58zM20.956 11.85c-.661 0-1.178.517-1.178 1.225 0 .612.517 1.179 1.178 1.179.659 0 1.178-.567 1.178-1.179 0-.708-.52-1.225-1.178-1.225z"/>\n    </g>\n</svg>';var r=i,o=document.createElement("div");o.className="smiley-svg-wrapper",o.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32">\n<g fill="none" fill-rule="evenodd">\n    <path class="smiley-outer" d="M10.262.496h11.92c2.64 0 4.994 1.084 6.738 2.828 1.743 1.743 2.826 4.098 2.826 6.735v11.92c0 2.64-1.083 4.995-2.826 6.738-1.744 1.743-4.099 2.826-6.738 2.826h-11.92c-2.638 0-4.994-1.083-6.738-2.826A9.432 9.432 0 0 1 .746 21.98V10.059a9.432 9.432 0 0 1 2.778-6.735C5.268 1.58 7.624.496 10.262.496z"/>\n    <path class="smiley-inner-fill" d="M11.94 11.821c0-.615-.52-1.18-1.18-1.18-.66 0-1.18.565-1.18 1.18 0 .66.52 1.178 1.18 1.178.66 0 1.18-.519 1.18-1.178zM21.47 10.64c-.66 0-1.18.566-1.18 1.181 0 .66.52 1.178 1.18 1.178.661 0 1.18-.519 1.18-1.178 0-.615-.519-1.18-1.18-1.18zM9.697 22.545v1.178s2.356-2.355 6.548-2.355c4.148 0 6.502 2.355 6.502 2.355v-1.178s-2.354-2.356-6.502-2.356c-4.192 0-6.548 2.356-6.548 2.356z"/>\n</g>\n</svg>';var s=o,a=document.createElement("div");a.className="smiley-svg-wrapper",a.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32">\n<g fill="none" fill-rule="evenodd">\n    <path class="smiley-outer" d="M10.147.495h11.937c2.642 0 5.002 1.086 6.748 2.785 1.698 1.746 2.783 4.152 2.783 6.746v11.938a9.558 9.558 0 0 1-2.783 6.748c-1.746 1.745-4.106 2.83-6.748 2.83H10.147a9.406 9.406 0 0 1-6.748-2.83C1.653 27.013.615 24.607.615 21.964V10.026c0-2.594 1.038-5 2.784-6.746A9.56 9.56 0 0 1 10.147.495z"/>\n    <path class="smiley-inner-fill" d="M10.76 22.53h10.71v-1.179H10.76zM11.94 11.821c0-.615-.52-1.18-1.18-1.18-.66 0-1.18.565-1.18 1.18 0 .66.52 1.178 1.18 1.178.66 0 1.18-.519 1.18-1.178zM21.47 10.64c-.66 0-1.18.566-1.18 1.181 0 .66.52 1.178 1.18 1.178.661 0 1.18-.519 1.18-1.178 0-.615-.519-1.18-1.18-1.18z"/>\n</g>\n</svg>\n';var l=a,p=document.createElement("div");p.className="smiley-svg-wrapper",p.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32">\n<g fill="none" fill-rule="evenodd">\n    <path class="smiley-outer" d="M10.131.495h11.92a9.385 9.385 0 0 1 6.736 2.826 9.39 9.39 0 0 1 2.828 6.737v11.92c0 2.59-1.084 4.994-2.828 6.736a9.535 9.535 0 0 1-6.736 2.78h-11.92c-2.59 0-4.993-1.083-6.735-2.78-1.697-1.742-2.78-4.146-2.78-6.736v-11.92a9.543 9.543 0 0 1 2.78-6.737C5.138 1.578 7.54.495 10.13.495"/>\n    <path class="smiley-inner-fill" d="M16.116 21.319c3.532 0 5.323-1.179 5.323-1.179s-1.178 3.581-5.323 3.581c-4.147 0-5.371-3.58-5.371-3.58s1.79 1.178 5.37 1.178M11.969 11.848c0-.658-.566-1.223-1.224-1.223-.66 0-1.178.565-1.178 1.223 0 .661.518 1.18 1.178 1.18.658 0 1.224-.519 1.224-1.18M21.44 10.625c-.662 0-1.18.565-1.18 1.223 0 .661.518 1.18 1.18 1.18.658 0 1.224-.519 1.224-1.18 0-.658-.566-1.223-1.225-1.223"/>\n</g>\n</svg>';var c=p,u=document.createElement("div");u.className="smiley-svg-wrapper",u.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32">\n<g fill="none" fill-rule="evenodd">\n    <path class="smiley-outer" d="M10.131.448h11.92c2.639 0 4.994 1.084 6.736 2.827 1.744 1.744 2.828 4.099 2.828 6.736v11.92c0 2.64-1.084 4.994-2.828 6.737-1.742 1.743-4.097 2.825-6.736 2.825h-11.92c-2.637 0-4.993-1.082-6.735-2.825a9.427 9.427 0 0 1-2.78-6.737V10.01a9.426 9.426 0 0 1 2.78-6.736C5.138 1.532 7.494.448 10.13.448"/>\n    <path class="smiley-inner-fill" d="M9.993 20.508s1.348 4.853 6.149 4.853c4.748 0 6.096-4.853 6.096-4.853s-2.05 1.597-6.096 1.597c-4.1 0-6.15-1.597-6.15-1.597M5.705 11.728c-.245-.913.412-1.87 1.446-2.147 1.035-.278 1.575.034 2.35.739.199-.966.57-1.522 1.543-1.782 1.097-.294 2.144.207 2.388 1.12.424 1.58-1.1 3.685-2.546 5.833-2.448-1.105-4.758-2.183-5.181-3.763M18.798 9.658c.245-.913 1.292-1.414 2.326-1.137 1.035.277 1.347.817 1.665 1.814.656-.736 1.256-1.031 2.228-.771 1.097.294 1.753 1.251 1.509 2.164-.424 1.58-2.796 2.642-5.122 3.78-1.567-2.182-3.03-4.27-2.606-5.85"/>\n</g>\n</svg>\n';var d,m,f=u,g={THANKYOU_MESSAGE:0,LONG_ANSWER:1,SHORT_ANSWER:2,CHECK_BOXES:3,RADIO_BUTTONS:4,NET_PROMOTER_SCORE:5,EMAIL:6,FIVE_RATING:7,SEVEN_RATING:8,STAR_RATING:9,SMILEY_RATING:10},h=((d={})[g.NET_PROMOTER_SCORE]={LOW_RANGE_OPTION_START:1,NEUTRAL_RANGE_OPTION_START:2,HIGH_RANGE_OPTION_START:3},d[g.FIVE_RATING]={LOW_RANGE_OPTION_START:1,NEUTRAL_RANGE_OPTION_START:3,HIGH_RANGE_OPTION_START:4},d[g.SEVEN_RATING]={LOW_RANGE_OPTION_START:1,NEUTRAL_RANGE_OPTION_START:4,HIGH_RANGE_OPTION_START:5},d),b=((m={})[1]={icon:r,label:"Hate"},m[2]={icon:s,label:"Dislike"},m[3]={icon:l,label:"Neutral"},m[4]={icon:c,label:"Like"},m[5]={icon:f,label:"Love"},m),y=(n(1),document.createElement("div"));y.className="accept-svg-wrapper ps-pnf-action-accept accept-btn",y.id="ps-pnf-action-button-accept",y.innerHTML='<svg viewBox="0 0 24 24" class="accept-svg" fill="#FFF" id="check" xmlns="http://www.w3.org/2000/svg" >\n<path d="M8.8 19.6L1.2 12c-.3-.3-.3-.8 0-1.1l1-1c.3-.3.8-.3 1 0L9 15.7c.1.2.5.2.6 0L20.9 4.4c.2-.3.7-.3 1 0l1 1c.3.3.3.7 0 1L9.8 19.6c-.2.3-.7.3-1 0z"></path>\n</svg>\n';var _=y,v='\n<svg xmlns="http://www.w3.org/2000/svg" width="31" height="30" viewBox="0 0 31 30" class="star-rating-fill">\n    <path fill-rule="evenodd" d="M15.134 24.999l-7.63 4.011a1 1 0 0 1-1.451-1.054l1.546-9.014-6.549-6.384a1 1 0 0 1 .554-1.706l9.05-1.315 4.048-8.201a1 1 0 0 1 1.794 0l4.047 8.201 9.05 1.315a1 1 0 0 1 .555 1.706L23.6 18.942l1.546 9.014a1 1 0 0 1-1.45 1.054l-7.63-4.011a1 1 0 0 0-.931 0z"/>\n</svg>\n';function k(e){var t=document.createElement("div");t.setAttribute("class","ps-pnf-thankyou-body-content");var n=document.createElement("div");return n.setAttribute("class","ps-pnf-thankyou-message"),n.innerText=e,t.appendChild(n),t}function w(){var e=document.createElement("div");return e.className="star-svg-wrapper",e.innerHTML=v,e}var A=new(function(){function e(){}return e.prototype.cookAnswerTemplate=function(e){switch(e.questionTypeId){case g.THANKYOU_MESSAGE:return this.cookThankyouMessage(e);case g.LONG_ANSWER:return this.cookLongAnswer(e);case g.SHORT_ANSWER:return this.cookShortAnswer(e);case g.CHECK_BOXES:return this.cookCheckBoxes(e);case g.RADIO_BUTTONS:return this.cookRadioButtons(e);case g.NET_PROMOTER_SCORE:return this.cookNetPromoterScore(e);case g.EMAIL:return this.cookEmailType(e);case g.FIVE_RATING:return this.cookOneToFiveRange(e);case g.SEVEN_RATING:return this.cookOneToSevenRange(e);case g.STAR_RATING:return this.cookStarRating(e);case g.SMILEY_RATING:return this.cookSmileyRating(e)}},e.prototype.cookThankyouMessage=function(e){var t,n=document.createElement("div");switch(n.setAttribute("class","ps-pnf-thankyou-body"),e.thankyou_type){case 1:n.appendChild(_),t=k(e.question);break;case 2:t=function(e,t){var n=document.createElement("div");n.setAttribute("class","ps-pnf-thankyou-body-content");var i=document.createElement("div");i.setAttribute("class","ps-pnf-thankyou-message"),i.innerText=t,n.appendChild(i);var r,o,s,a=e.match(/\[([^)]+)\]\(([^)]+)\)/),l=document.createElement("div");if(l.className="ps-pnf-consent-text-wrapper",a&&3===a.length&&(r=a[1],o=a[2]),r&&o&&o.match(/(http|https)\:\/\/[\w-]+(\.[\w-]+)+([\w.,@?^=%&amp;:\/~+#-]*[\w@?^=%&amp;\/~+#-])?/)){var p=e.split(a[0]),c=document.createElement("text");c.innerText=p[0];var u=document.createElement("text");u.innerText=p[1],(s=document.createElement("a")).className="ps-pnf-consent-link",s.innerText=r,s.href=o,s.target="_blank",s.rel="noopener",l.appendChild(c),l.appendChild(s),l.appendChild(u)}else l.innerText=e;return n.appendChild(l),n}(e.thankyou_consent,e.question);break;case 3:default:n.appendChild(_),t=k(e.question)}return n.appendChild(t),n},e.prototype.cookShortAnswer=function(e){var t=document.createElement("input");return t.setAttribute("class","ps-pnf-input ps-pnf-answer-item"),t.setAttribute("placeholder",e.polls_ui_keys.short_q_placeholder),t},e.prototype.cookEmailType=function(e){var t=document.createElement("div"),n=document.createElement("input");n.type="email",n.setAttribute("class","ps-pnf-input ps-pnf-answer-item"),n.setAttribute("placeholder",e.polls_ui_keys.email_q_placeholder),n.setAttribute("pattern","[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,}$");var i=document.createElement("span");return i.innerText=e.polls_ui_keys.email_q_error_text,i.setAttribute("class","ps-pnf-answer-item-error"),t.appendChild(n),t.appendChild(i),t},e.prototype.cookLongAnswer=function(e){var t=document.createElement("textarea");return t.setAttribute("class","ps-pnf-textarea ps-pnf-answer-item"),t.setAttribute("placeholder",e.polls_ui_keys.long_q_placeholder),t},e.prototype.cookCheckBoxes=function(e){var t,n,i,r,o,s=document.createElement("ul");return s.setAttribute("class","ps-pnf-checkbox"),e.options.forEach(function(a,l){(n=document.createElement("span")).setAttribute("class","ps-pnf-checkmark"),(i=document.createElement("label")).setAttribute("for","ps-pnf-op-"+l),i.innerText=a.answer_text,(r=document.createElement("input")).setAttribute("type","checkbox"),r.setAttribute("id","ps-pnf-op-"+l),r.setAttribute("name","ps-pnf-option"),r.setAttribute("class","ps-pnf-answer-item"),r.setAttribute("value",a.answer_text),r.setAttribute("sequenceValue",String(l)),r.setAttribute("ans_id",a.answer_id),a.logic_mapping&&(r.setAttribute("logicType",a.logic_mapping.question_logic_type),r.setAttribute("linkedQn",a.logic_mapping.linked_question_id)),(t=document.createElement("li")).setAttribute("class","ps-pnf-checkbox-item"),t.appendChild(r),t.appendChild(n),t.appendChild(i),a.comment_flag&&((o=document.createElement("textarea")).setAttribute("type","text"),o.setAttribute("ans_id",a.answer_id),o.setAttribute("id","ps-pnf-comment-"+a.answer_id),o.setAttribute("class","ps-pnf-textarea comment-box"),o.setAttribute("opt_cmt_id",r.getAttribute("id")),o.setAttribute("placeholder",a.is_comment_mandatory?"*"+e.polls_ui_keys.checkbox_q_desc_placeholder:e.polls_ui_keys.checkbox_q_desc_placeholder),a.is_comment_mandatory&&o.setAttribute("required",a.is_comment_mandatory),t.appendChild(o)),s.appendChild(t)}),s},e.prototype.cookRadioButtons=function(e){var t,n,i,r,o,s=document.createElement("ul");return s.setAttribute("class","ps-pnf-radio"),e.options.forEach(function(a,l){(n=document.createElement("span")).setAttribute("class","ps-pnf-radiomark"),(i=document.createElement("label")).setAttribute("for","ps-pnf-op-"+l),i.innerText=a.answer_text,(r=document.createElement("input")).setAttribute("type","radio"),r.setAttribute("id","ps-pnf-op-"+l),r.setAttribute("name","ps-pnf-option"),r.setAttribute("class","ps-pnf-answer-item"),r.setAttribute("value",a.answer_text),r.setAttribute("sequenceValue",String(l)),r.setAttribute("ans_id",a.answer_id),a.logic_mapping&&(r.setAttribute("logicType",a.logic_mapping.question_logic_type),r.setAttribute("linkedQn",a.logic_mapping.linked_question_id)),(t=document.createElement("li")).setAttribute("class","ps-pnf-radio-item"),t.appendChild(r),t.appendChild(n),t.appendChild(i),a.comment_flag&&((o=document.createElement("textarea")).setAttribute("type","text"),o.setAttribute("ans_id",a.answer_id),o.setAttribute("id","ps-pnf-comment-"+a.answer_id),o.setAttribute("class","ps-pnf-textarea comment-box"),o.setAttribute("opt_cmt_id",r.getAttribute("id")),o.setAttribute("placeholder",a.is_comment_mandatory?"*"+e.polls_ui_keys.radio_q_desc_placeholder:e.polls_ui_keys.radio_q_desc_placeholder),a.is_comment_mandatory&&o.setAttribute("required",a.is_comment_mandatory),t.appendChild(o)),s.appendChild(t)}),s},e.prototype.cookNetPromoterScore=function(e){var t=e.options,n=document.createElement("div"),i=this.cookRatingGroup(t),r=this.cookRatingsHelpTextGroup(t,g.NET_PROMOTER_SCORE);return n.appendChild(i),n.appendChild(r),n},e.prototype.cookOneToSevenRange=function(e){var t=e.options,n=document.createElement("div"),i=this.cookOneToSevenRangeGroup(t),r=this.cookRatingsHelpTextGroup(t,g.SEVEN_RATING);return n.appendChild(i),n.appendChild(r),n},e.prototype.cookOneToFiveRange=function(e){var t=e.options,n=document.createElement("div"),i=this.cookOneToFiveRangeGroup(t),r=this.cookRatingsHelpTextGroup(t,g.FIVE_RATING);return n.appendChild(i),n.appendChild(r),n},e.prototype.cookSmileyRating=function(e){return this.cookSmileyGroup(e)},e.prototype.cookStarRating=function(e){return this.cookStarRatingGroup(e)},e.prototype.cookOneToSevenRangeGroup=function(e){var t,n,i,r=document.createElement("ul");r.setAttribute("class","ps-pnf-seven-rating");for(var o=1;o<=7;o++)(n=document.createElement("label")).setAttribute("for","seven-rating-button"+String(o+1)),n.innerText=String(o),(i=document.createElement("input")).setAttribute("type","radio"),i.setAttribute("id","seven-rating-button"+String(o+1)),i.setAttribute("name","ratingBtn"),i.setAttribute("class","ps-pnf-answer-item"),i.setAttribute("value",String(o)),i.setAttribute("sequenceValue",String(o)),i.setAttribute("ans_id",e[o-1].answer_id),o>=1&&o<=3?e[0].logic_mapping&&(i.setAttribute("logicType",e[0].logic_mapping.question_logic_type),i.setAttribute("linkedQn",e[0].logic_mapping.linked_question_id)):4==o?e[1].logic_mapping&&(i.setAttribute("logicType",e[3].logic_mapping.question_logic_type),i.setAttribute("linkedQn",e[3].logic_mapping.linked_question_id)):o>=5&&o<=7&&e[2].logic_mapping&&(i.setAttribute("logicType",e[4].logic_mapping.question_logic_type),i.setAttribute("linkedQn",e[4].logic_mapping.linked_question_id)),(t=document.createElement("li")).setAttribute("class","ps-pnf-seven-rating-item"),t.appendChild(i),t.appendChild(n),r.appendChild(t);return r},e.prototype.cookOneToFiveRangeGroup=function(e){var t,n,i,r=document.createElement("ul");r.setAttribute("class","ps-pnf-five-rating");for(var o=1;o<=5;o++)(n=document.createElement("label")).setAttribute("for","five-rating-button"+String(o+1)),n.innerText=String(o),(i=document.createElement("input")).setAttribute("type","radio"),i.setAttribute("id","five-rating-button"+String(o+1)),i.setAttribute("name","ratingBtn"),i.setAttribute("class","ps-pnf-answer-item"),i.setAttribute("value",String(o)),i.setAttribute("sequenceValue",String(o)),i.setAttribute("ans_id",e[o-1].answer_id),o>=1&&o<=2?e[0].logic_mapping&&(i.setAttribute("logicType",e[0].logic_mapping.question_logic_type),i.setAttribute("linkedQn",e[0].logic_mapping.linked_question_id)):3==o?e[2].logic_mapping&&(i.setAttribute("logicType",e[2].logic_mapping.question_logic_type),i.setAttribute("linkedQn",e[2].logic_mapping.linked_question_id)):o>=4&&o<=5&&e[3].logic_mapping&&(i.setAttribute("logicType",e[3].logic_mapping.question_logic_type),i.setAttribute("linkedQn",e[3].logic_mapping.linked_question_id)),(t=document.createElement("li")).setAttribute("class","ps-pnf-five-rating-item"),t.appendChild(i),t.appendChild(n),r.appendChild(t);return r},e.prototype.cookSmileyGroup=function(e){var t=document.createElement("ul");t.setAttribute("class","ps-pnf-smiley");for(var n,i=e.options,r=e.polls_ui_keys.smiley_q_labels,o=1;o<=5;o++){var s,a,l=void 0,p=void 0,c=void 0,u=void 0;s=(n=o,b[n]).icon,a=r[o-1],(u=document.createElement("label")).setAttribute("class","ps-pnf-smiley-label"),u.innerText=a,(p=document.createElement("label")).setAttribute("for","smiley-rating-button"+String(o)),p.appendChild(s),p.appendChild(u),(c=document.createElement("input")).setAttribute("type","radio"),c.setAttribute("id","smiley-rating-button"+String(o)),c.setAttribute("name","ratingBtn"),c.setAttribute("class","ps-pnf-answer-item"),c.setAttribute("value",i[o-1].answer_text),c.setAttribute("sequenceValue",String(o)),c.setAttribute("ans_id",i[o-1].answer_id),o>=1&&o<=2?i[0].logic_mapping&&(c.setAttribute("logicType",i[0].logic_mapping.question_logic_type),c.setAttribute("linkedQn",i[0].logic_mapping.linked_question_id)):3==o?i[2].logic_mapping&&(c.setAttribute("logicType",i[2].logic_mapping.question_logic_type),c.setAttribute("linkedQn",i[2].logic_mapping.linked_question_id)):o>=4&&o<=5&&i[3].logic_mapping&&(c.setAttribute("logicType",i[3].logic_mapping.question_logic_type),c.setAttribute("linkedQn",i[3].logic_mapping.linked_question_id)),(l=document.createElement("li")).setAttribute("class","ps-pnf-smiley-item"),l.appendChild(c),l.appendChild(p),t.appendChild(l)}return t},e.prototype.cookStarRatingGroup=function(e){var t=e.options,n=document.createElement("ul");n.setAttribute("class","ps-pnf-star-rating");for(var i=1;i<=5;i++){var r=void 0,o=void 0,s=void 0,a=w();(o=document.createElement("label")).setAttribute("for","star-rating-button"+String(i)),o.appendChild(a),(s=document.createElement("input")).setAttribute("type","radio"),s.setAttribute("id","star-rating-button"+String(i)),s.setAttribute("name","ratingBtn"),s.setAttribute("class","ps-pnf-answer-item"),s.setAttribute("value",t[i-1].answer_text),s.setAttribute("sequenceValue",String(i)),s.setAttribute("ans_id",t[i-1].answer_id),i>=1&&i<=2?t[0].logic_mapping&&(s.setAttribute("logicType",t[0].logic_mapping.question_logic_type),s.setAttribute("linkedQn",t[0].logic_mapping.linked_question_id)):3==i?t[2].logic_mapping&&(s.setAttribute("logicType",t[2].logic_mapping.question_logic_type),s.setAttribute("linkedQn",t[2].logic_mapping.linked_question_id)):i>=4&&i<=5&&t[3].logic_mapping&&(s.setAttribute("logicType",t[3].logic_mapping.question_logic_type),s.setAttribute("linkedQn",t[3].logic_mapping.linked_question_id)),(r=document.createElement("li")).setAttribute("class","ps-pnf-star-rating-item"),r.appendChild(s),r.appendChild(o),n.appendChild(r)}return n},e.prototype.cookRatingGroup=function(e){var t,n,i,r=document.createElement("ul");r.setAttribute("class","ps-pnf-nps");for(var o=0;o<=10;o++)(n=document.createElement("label")).setAttribute("for","nps-rating-button"+String(o+1)),n.innerText=String(o),(i=document.createElement("input")).setAttribute("type","radio"),i.setAttribute("id","nps-rating-button"+String(o+1)),i.setAttribute("name","ratingBtn"),i.setAttribute("class","ps-pnf-answer-item"),i.setAttribute("value",String(o)),i.setAttribute("sequenceValue",String(o)),o>=0&&o<=6?e[0].logic_mapping&&(i.setAttribute("logicType",e[0].logic_mapping.question_logic_type),i.setAttribute("linkedQn",e[0].logic_mapping.linked_question_id),i.setAttribute("ans_id",e[0].answer_id)):o>=7&&o<=8?e[1].logic_mapping&&(i.setAttribute("logicType",e[1].logic_mapping.question_logic_type),i.setAttribute("linkedQn",e[1].logic_mapping.linked_question_id),i.setAttribute("ans_id",e[1].answer_id)):o>=9&&o<=10&&e[2].logic_mapping&&(i.setAttribute("logicType",e[2].logic_mapping.question_logic_type),i.setAttribute("linkedQn",e[2].logic_mapping.linked_question_id),i.setAttribute("ans_id",e[2].answer_id)),(t=document.createElement("li")).setAttribute("class","ps-pnf-nps-item"),t.appendChild(i),t.appendChild(n),r.appendChild(t);return r},e.prototype.cookRatingsHelpTextGroup=function(e,t){var n=document.createElement("ul"),i=h[t],r=e.filter(function(e){return e.sequence==i.LOW_RANGE_OPTION_START})[0],o=e.filter(function(e){return e.sequence==i.HIGH_RANGE_OPTION_START})[0];n.setAttribute("class","ps-pnf-rating-helper");for(var s,a,l=[r.answer_text,o.answer_text],p=0;p<2;p++)(s=document.createElement("li")).setAttribute("class","ps-pnf-rating-item-helper"),(a=document.createElement("span")).innerText=l[p],s.appendChild(a),n.appendChild(s);return n},e}()),T=new(function(){function e(){}return e.prototype.insertStyles=function(e,t){var n,i=!!e.head.querySelector("style");(n=i?e.head.querySelector("style"):e.createElement("style")).innerHTML+="\n        "+t+"\n        ",i||e.head.appendChild(n)},e}()),S=new(function(){function e(){}return e.prototype.buildStyles=function(e){var t=e.deliverable.iframe.contentDocument,n=this.cookContainerStyles(e),i=this.cookHandleStyles(e);T.insertStyles(t,"\n        "+n+"\n        "+i+"      \n        ")},e.prototype.cookContainerStyles=function(e){return"\n        .ps-pnf-trigger-handle{\n            background-color:   "+e.bg_colour+";\n            width: 100%;\n            height: 1rem;\n        }"},e.prototype.cookHandleStyles=function(e){var t=e.text_colour,n=e.button_color;return"\n        .ps-pnf-trigger-arrow{\n            border-left: 0.5rem solid transparent;\n            border-right: 0.5rem solid transparent;\n            float: right;\n            margin: 0.375rem 1rem;\n        }\n        .ps-pnf-inactive .ps-pnf-trigger-handle .ps-pnf-trigger-arrow{\n            border-bottom: 0.3rem solid "+t+";\n        }\n        .ps-pnf-inactive .ps-pnf-trigger-handle:hover .ps-pnf-trigger-arrow{\n            border-bottom: 0.3rem solid "+n+";\n        }\n        .ps-pnf-active .ps-pnf-trigger-handle .ps-pnf-trigger-arrow{\n            border-top: 0.3rem solid "+t+";\n        }\n        .ps-pnf-active .ps-pnf-trigger-handle:hover .ps-pnf-trigger-arrow{\n            border-top: 0.3rem solid "+n+";\n        }"},e}()),E=new(function(){function e(){}return e.prototype.buildStyles=function(e){var t=e.deliverable.iframe.contentDocument,n=this.cookContainerStyles(e),i=this.cookHeaderStyles(e);T.insertStyles(t,"\n        "+n+"\n        "+i+"      \n        ")},e.prototype.cookContainerStyles=function(e){return'*{\n            user-select: none;\n            box-sizing: border-box;\n            font-family: "helvetica", sans-serif, serif;\n        }\n        ul{\n            margin: 0;\n            padding: 0;\n        }\n        body{\n            margin: 0;\n            overflow: hidden;\n            background-color: '+e.bg_colour+";  \n        }\n        .ps-pnf-wrapper{\n            display: inline-block;\n            width: 18.75rem;\n        }\n        ul{\n            display: block;\n            list-style-type: none;\n            margin-block-start: 0;\n            margin-block-end: 0;\n            margin-inline-start: 0;\n            margin-inline-end: 0;\n            padding-inline-start: 0;\n        }"},e.prototype.cookHeaderStyles=function(e){return"\n        .ps-pnf-header{\n            background-color:   "+e.bg_colour+";\n            color:              "+e.text_colour+";\n            text-align:         left;\n            font-size: 1rem;\n        }\n        .ps-pnf-header .ps-pnf-question{\n            padding:            0.5rem 1rem;\n            word-break: break-word;\n            word-wrap: break-word;\n        }\n        .ps-pnf-inactive > .ps-pnf-header{\n            display: none\n        }\n        .ps-pnf-header .ps-pnf-thankyou-header{\n            display: none\n        }"},e}()),x=new(function(){function e(){}return e.prototype.reduceOpacity=function(e){var t=this.hexToRgbA(e);return"rgba("+t[0]+","+t[1]+","+t[2]+",0.85)"},e.prototype.hexToRgbA=function(e){var t;if(/^#([A-Fa-f0-9]{3}){1,2}$/.test(e))return 3==(t=e.substring(1).split("")).length&&(t=[t[0],t[0],t[1],t[1],t[2],t[2]]),[(t="0x"+t.join(""))>>16&255,t>>8&255,255&t];throw new Error("Bad Hex")},e}()),C=new(function(){function e(){}return e.prototype.buildStyles=function(e){var t=e.deliverable.iframe.contentDocument,n=this.cookMainStyles(e),i=this.cookInputStyles(e),r=this.cookEmailInputStyles(e),o=this.cookTextAreaStyles(e),s=this.cookCheckboxStyles(e),a=this.cookRadioButtonStyles(e),l=this.cookNPSStyles(e),p=this.cookOneToFiveRatingStyles(e),c=this.cookOneToSevenRatingStyles(e),u=this.cookSmileyStyles(e),d=this.cookStarRatingStyles(e),m=this.cookThankyouStyles(e),f=this.cookErrorMessageStyles(e);T.insertStyles(t,"\n        "+n+"\n        "+i+"\n        "+r+"\n        "+o+"\n        "+s+"\n        "+a+"\n        "+l+"\n        "+p+"\n        "+c+"\n        "+u+"\n        "+d+"\n        "+m+"\n        "+f+"        \n        ")},e.prototype.cookMainStyles=function(e){return"\n         .ps-pnf-answer{\n            background-color:   "+e.bg_colour+";\n            color:              "+e.text_colour+";\n            padding:            0.5rem 1rem;\n            max-height: 18rem;\n            width: 100%;\n            overflow-y: auto;\n        }\n\n        .ps-pnf-wrapper.ps-pnf-inactive > .ps-pnf-main .ps-pnf-answer, .ps-pnf-wrapper.ps-pnf-not-acknowledged > .ps-pnf-main .ps-pnf-answer{\n            display: none;\n        }\n\n        \n        .ps-pnf-acknowledge-answer{\n            padding:            1rem;\n            text-align: center;\n        }\n\n        .ps-pnf-wrapper.ps-pnf-inactive > .ps-pnf-main .ps-pnf-acknowledge-answer, .ps-pnf-acknowledged > .ps-pnf-main .ps-pnf-acknowledge-answer{\n            display: none;\n        }\n        "},e.prototype.cookEmailInputStyles=function(e){return"\n        .ps-pnf-input{\n            resize: none;\n            width: 100%;\n            height: 2.5rem;\n            font-size: 0.875rem;\n            color: #111;\n            padding: 0.5rem;\n            text-indent: 0;\n            outline: none;\n            border-radius: 0.25rem;\n            background: #fff;\n            border: 1px solid #c3c3c3;\n        }\n        .ps-pnf-input::placeholder{\n            color: #111;\n            opacity: 0.7;\n        }\n        "},e.prototype.cookInputStyles=function(e){return"\n        .ps-pnf-input{\n            resize: none;\n            width: 100%;\n            height: 2.5rem;\n            font-size: 0.875rem;\n            color: #111;\n            padding: 0.5rem;\n            text-indent: 0;\n            outline: none;\n            border-radius: 0.25rem;\n            background: #fff;\n            border: 1px solid #c3c3c3;\n        }\n        .ps-pnf-input::placeholder{\n            color: #111;\n            opacity: 0.7;\n        }\n        "},e.prototype.cookTextAreaStyles=function(e){return"\n        .ps-pnf-textarea{\n            resize: none;\n            width: 100%;\n            height: 6rem;\n            font-size: 0.875rem;\n            color: #111;\n            padding: 0.5rem;\n            text-indent: 0;\n            outline: none;\n            border-radius: 0.25rem;\n            background: #fff;\n            border: 1px solid #c3c3c3;\n        }\n        .ps-pnf-textarea::placeholder{\n            color: #111;\n            opacity: 0.7;\n        }\n        "},e.prototype.cookCheckboxStyles=function(e){return"\n        li.ps-pnf-checkbox-item{\n            list-style-type: none;\n            background-color: "+e.answer_colour+';\n            padding: 0.625rem;\n            padding-left: 2.25rem;\n            position: relative;\n            border-radius: 0.25rem;\n            min-height: 2.125rem;\n            line-height: 0.875rem;\n        }\n        li.ps-pnf-checkbox-item:not(:last-child){\n            margin-bottom: 0.625rem;\n        }\n        li.ps-pnf-checkbox-item input[type=checkbox]{\n            opacity: 0;\n            z-index: 1;\n        }\n        li.ps-pnf-checkbox-item input[type=checkbox],\n        li.ps-pnf-checkbox-item span.ps-pnf-checkmark{\n            margin: 0.7rem 0 0;\n            position: absolute;\n            left: 0.625rem;\n            height: 0.675rem;\n            width: 0.675rem;\n            top: 0;\n        }\n        li.ps-pnf-checkbox-item input[type=checkbox]:checked ~ span.ps-pnf-checkmark {\n            background-color: #008dff;\n        }\n        li.ps-pnf-checkbox-item span.ps-pnf-checkmark{\n            background-color: #fff;\n            border-radius: 0.1rem;\n            transition: all 0.2s ease-in-out;\n        }\n        li.ps-pnf-checkbox-item span.ps-pnf-checkmark:after {\n            content: "";\n            position: absolute;\n            display: none;\n        }\n        li.ps-pnf-checkbox-item input[type=checkbox]:checked ~ span.ps-pnf-checkmark:after {\n            display: block;\n            top: 0;\n            left: 0.25rem;\n            width: 0.15rem;\n            height: 0.4rem;\n            \n            border: solid white;\n            border-width: 0 0.075rem 0.075rem 0;\n            -webkit-transform: rotate(45deg);\n            -ms-transform: rotate(45deg);\n            transform: rotate(45deg);\n          }\n          li.ps-pnf-checkbox-item label{\n            display: inline-block;\n            cursor: pointer;\n            font-size: 0.875rem;\n            line-height: 0.875rem;\n            width: 100%;\n            vertical-align: baseline;\n            word-break: break-word;\n        }\n        li.ps-pnf-checkbox-item .comment-box{\n            height: 3rem;\n            padding: 0.3rem;\n            margin:  0.625rem 0;\n            display: none;\n            background: #fff;\n            color: #111\n        }\n        li.ps-pnf-checkbox-item .comment-box::placeholder{\n            color: #111;\n            opacity: 0.7;\n        }\n        li.ps-pnf-checkbox-item input:checked ~ .comment-box{\n            display: block;\n        }\n        li.ps-pnf-checkbox-item input:checked ~ .comment-box:required::placeholder{\n            color: #f2230e;\n            opacity: 0.7;\n        }\n        '},e.prototype.cookRadioButtonStyles=function(e){var t=e.answer_colour;return"\n        li.ps-pnf-radio-item{\n            list-style-type: none;\n            background-color: "+t+";\n            padding: 0.625rem;\n            padding-left: 2.25rem;\n            position: relative;\n            border-radius: 0.25rem;\n            min-height: 2.125rem;\n            line-height: 0.875rem;\n        }\n        li.ps-pnf-radio-item input[type=radio]{\n            opacity: 0;\n            z-index: 1;\n        }\n        li.ps-pnf-radio-item input[type=radio],\n        li.ps-pnf-radio-item span.ps-pnf-radiomark{\n            margin: 0.625rem 0 0;\n            position: absolute;\n            top: 0;\n            left: 0.625rem;\n            height: 0.875rem;\n            width: 0.875rem;\n            border: 0.0625rem solid "+t+';\n        }\n        li.ps-pnf-radio-item input[type=radio]:checked ~ span.ps-pnf-radiomark {\n            background-color: #008dff;\n        }\n        li.ps-pnf-radio-item span.ps-pnf-radiomark{\n            background-color: #fff;\n            border-radius: 50%;\n            transition: all 0.2s ease-in-out;\n        }\n        li.ps-pnf-radio-item span.ps-pnf-radiomark:after {\n            content: "";\n            position: absolute;\n            display: none;\n        }\n        li.ps-pnf-radio-item input[type=radio]:checked ~ span.ps-pnf-radiomark:after {\n            display: block;\n            width: 0.25rem;\n            height: 0.25rem;\n            left: 0.25rem;\n            top: 0.25rem;\n            background-color: #fff;\n            border-radius: 50%;\n        }\n        li.ps-pnf-radio-item:not(:last-child){\n            margin-bottom: 0.625rem;\n        }\n        li.ps-pnf-radio-item label{\n            display: inline-block;\n            cursor: pointer;\n            font-size: 0.875rem;\n            line-height: 0.875rem;\n            width: 100%;\n            vertical-align: baseline;\n            word-break: break-word;\n        }\n        li.ps-pnf-radio-item .comment-box{\n            height: 3rem;\n            margin: 0.625rem 0;\n            display: none;\n            background: #fff;\n            color: #111;\n        }\n        li.ps-pnf-radio-item .comment-box::placeholder{\n            color: #111;\n            opacity: 0.7;\n        }\n        li.ps-pnf-radio-item input:checked ~ .comment-box{\n            display: block;\n        }\n        li.ps-pnf-radio-item input:checked ~ .comment-box:required::placeholder{\n            color: #f2230e;\n            opacity: 0.7;\n        }\n        '},e.prototype.cookNPSStyles=function(e){return"\n        "+this.cookNPSButtonStyles(e)+"\n        "+this.cookNPSHelperStyles(e)+"\n        "},e.prototype.cookOneToFiveRatingStyles=function(e){return"\n        "+this.cookFiveButtonStyles(e)+"\n        "+this.cookNPSHelperStyles(e)+"\n        "},e.prototype.cookOneToSevenRatingStyles=function(e){return"\n        "+this.cookSevenButtonStyles(e)+"\n        "+this.cookNPSHelperStyles(e)+"\n        "},e.prototype.cookSevenButtonStyles=function(e){var t=e.answer_colour,n=e.bg_colour;return"\n        ul.ps-pnf-seven-rating{\n            white-space: nowrap;\n        }\n        li.ps-pnf-seven-rating-item{\n            list-style-type: none;\n            display:inline-block;\n            margin: 0 0.15rem 0.25rem;\n            width: 2.135rem;\n            max-height: 2.5rem;\n        }\n        li.ps-pnf-seven-rating-item:first-child{\n            margin-left:0;\n        }\n        li.ps-pnf-seven-rating-item:last-child{\n            margin-right:0;\n        }\n        li.ps-pnf-seven-rating-item input{\n            display: none\n        }\n        li.ps-pnf-seven-rating-item input:checked + label{\n            background-color: "+e.text_colour+";\n            color: "+n+";\n            opacity: 1;\n            font-weight: 500;\n        }\n        li.ps-pnf-seven-rating-item label{\n            display: inline-block;\n            width: 100%;\n            height: 2rem;\n            font-size: 1rem;\n            line-height: 1rem;\n            text-align: center;\n            padding: 0.5rem 0;\n            background-color: "+t+";\n            border: 1px solid "+t+";\n            border-radius: 0.25rem;\n            opacity: 1;\n            cursor: pointer;\n        }\n        li.ps-pnf-seven-rating-item label:hover{\n            opacity: 0.7;\n        }\n        "},e.prototype.cookFiveButtonStyles=function(e){var t=e.answer_colour,n=e.bg_colour;return"\n        ul.ps-pnf-five-rating{\n            white-space: nowrap;\n        }\n        li.ps-pnf-five-rating-item{\n            list-style-type: none;\n            display:inline-block;\n            margin: 0 0.25rem 0.25rem;\n            width: 2.95rem;\n            max-height: 2.5rem;\n        }\n        li.ps-pnf-five-rating-item:first-child{\n            margin-left:0;\n        }\n        li.ps-pnf-five-rating-item:last-child{\n            margin-right:0;\n        }\n        li.ps-pnf-five-rating-item input{\n            display: none\n        }\n        li.ps-pnf-five-rating-item input:checked + label{\n            background-color: "+e.text_colour+";\n            color: "+n+";\n            opacity: 1;\n            font-weight: 500;\n        }\n        li.ps-pnf-five-rating-item label{\n            display: inline-block;\n            width: 100%;\n            height: 2rem;\n            font-size: 1rem;\n            line-height: 1rem;\n            text-align: center;\n            padding: 0.5rem 0;\n            background-color: "+t+";\n            border: 1px solid "+t+";\n            border-radius: 0.25rem;\n            opacity: 1;\n            cursor: pointer;\n        }\n        li.ps-pnf-five-rating-item label:hover{\n            opacity: 0.7;\n        }\n        "},e.prototype.cookSmileyStyles=function(e){var t=e.answer_colour,n=e.text_colour;return"\n        ul.ps-pnf-smiley{\n            white-space: nowrap;\n            padding: 0 1rem;\n        }\n        li.ps-pnf-smiley-item{\n            list-style-type: none;\n            display:inline-block;\n            position: relative;\n            height: 3rem;\n            width: 2.75rem;\n            margin: 0 0.1rem;\n            text-align: center;\n        }\n        li.ps-pnf-smiley-item input{\n            display: none;\n        }\n        li.ps-pnf-smiley-item label{\n            color: "+t+";\n            display: inline-block;\n            cursor: pointer;\n        }\n        li.ps-pnf-smiley-item label.ps-pnf-smiley-label{\n            font-size: 0.75rem;\n            text-align: center;\n            left: 0;\n            width: 100%;\n            padding-top: 0.2rem;\n            opacity: 0;\n            position: absolute;\n            color: "+n+";\n            bottom: 1rem;\n            transition: all .1s ease-in-out;\n        }\n        .ps-pnf-smiley li.ps-pnf-smiley-item svg{\n            height: 2.25rem;\n            width: 2.5rem;\n        }\n        li.ps-pnf-smiley-item label .smiley-outer{\n            stroke: "+n+";\n            fill: transparent;\n            transition: all .2s ease-in-out;\n        }\n        li.ps-pnf-smiley-item label .smiley-inner-fill{\n            fill: "+n+";\n        }\n        li.ps-pnf-smiley-item input:checked + label .smiley-outer{\n            fill: "+e.button_color+";\n        }\n        li.ps-pnf-smiley-item input:checked + label .smiley-inner-fill{\n            fill: "+n+";\n        }\n        li.ps-pnf-smiley-item input:checked + label label.ps-pnf-smiley-label,\n        li.ps-pnf-smiley-item:hover label.ps-pnf-smiley-label{\n            bottom: -0.5rem;\n            opacity: 1;\n        }\n        .ps-pnf-smiley:hover li.ps-pnf-smiley-item label svg,\n        .ps-pnf-answer-validated li.ps-pnf-smiley-item label svg{\n            opacity: 0.4;\n        }\n        li.ps-pnf-smiley-item input:checked + label svg,\n        li.ps-pnf-smiley-item:hover label svg{\n            opacity: 1 !important;\n        }\n        "},e.prototype.cookStarRatingStyles=function(e){var t=e.answer_colour,n=e.text_colour;return"\n        ul.ps-pnf-star-rating{\n            white-space: nowrap;\n            padding: 0 1rem;\n        }\n        li.ps-pnf-star-rating-item{\n            list-style-type: none;\n            display:inline-block;\n            position: relative;\n            width: 2.95rem;\n            text-align: center;\n        }\n        li.ps-pnf-star-rating-item input{\n            display: none\n        }\n        li.ps-pnf-star-rating-item label{\n            color: "+t+";\n            display: inline-block;\n            cursor: pointer;\n        }\n        li.ps-pnf-star-rating-item svg.star-rating-fill{\n            height: 2.25rem;\n            width: 2.5rem;\n            stroke: "+n+";\n            fill: transparent;\n            transition: all .1s ease-in-out;\n            opacity: 1 !important;\n        }\n        li.ps-pnf-star-rating-item input.in-selected-range + label svg.star-rating-fill{\n            stroke: "+n+";\n            fill: "+n+";\n            opacity: 1 !important;\n        }\n        li.ps-pnf-star-rating-item input:hover + label svg{\n            opacity: 1 !important;\n        }\n        "},e.prototype.cookNPSButtonStyles=function(e){var t=e.answer_colour,n=e.bg_colour;return"\n        ul.ps-pnf-nps{\n            white-space: nowrap;\n        }\n        li.ps-pnf-nps-item{\n            list-style-type: none;\n            display:inline-block;\n            margin: 0 0.125rem 0.25rem;\n            width: 1.3rem;\n            max-height: 2.5rem;\n        }\n        li.ps-pnf-nps-item:first-child{\n            margin-left:0;\n        }\n        li.ps-pnf-nps-item:last-child{\n            margin-right:0;\n        }\n        li.ps-pnf-nps-item input{\n            display: none\n        }\n        li.ps-pnf-nps-item input:checked + label{\n            background-color: "+e.text_colour+";\n            color: "+n+";\n            opacity: 1;\n            font-weight: 500;\n        }\n        li.ps-pnf-nps-item label{\n            width: 100%;\n            height: 2rem;\n            background-color: "+t+";\n            border-radius: 0.25rem;\n            display: inline-block;\n            padding: 0.5rem 0;\n            text-align: center;\n            font-size: 1rem;\n            line-height: 1rem;\n            opacity: 1;\n            border: 1px solid "+t+";\n            cursor: pointer;\n        }\n        li.ps-pnf-nps-item label:hover{\n            opacity: 0.7;\n        }\n        "},e.prototype.cookNPSHelperStyles=function(e){var t=e.bg_colour;return"\n        ul.ps-pnf-rating-helper{\n            background-color: "+x.reduceOpacity(t)+";\n            white-space: nowrap;\n        }\n        li.ps-pnf-rating-item-helper{\n            list-style-type: none;\n            background-color: "+x.reduceOpacity(t)+";\n            padding-top: 0.25rem;\n            display:inline-block;\n            width: 50%;\n            font-size: 0.75rem;\n        }\n        li.ps-pnf-rating-item-helper:first-child{\n            text-align: left;\n        }\n        li.ps-pnf-rating-item-helper:last-child{\n            text-align: right;\n        }\n        "},e.prototype.cookThankyouStyles=function(e){return"\n        .ps-pnf-thankyou-body{\n            background-color: "+e.bg_colour+";\n            padding: 0.25rem;\n            text-align: center;\n            height: auto;\n        }\n        .ps-pnf-thankyou-body .accept-svg-wrapper{\n            width: 1.5rem;\n            height: 1.5rem;\n            border-radius: 50%;\n            display: inline-block;\n            padding: 0.25rem;\n            background: green;\n            margin: 0 0 1rem 0;\n        }\n        .ps-pnf-thankyou-body .ps-pnf-thankyou-message {\n            word-break: break-word;\n        }\n        .ps-pnf-thankyou-body .ps-pnf-consent-text-wrapper{\n            padding-top: 0.5rem;\n            opacity: 0.75;\n            word-break: break-word;\n        }\n        .ps-pnf-consent-text-wrapper{\n            font-size: 0.875rem;\n        }\n        .ps-pnf-thankyou-body .ps-pnf-consent-link{\n            margin-right: 0.125rem;\n            color: #238ede;\n        }\n        .ps-pnf-thankyou-body .accept-svg{\n            width: 1rem;\n            height: 1rem;\n        }\n        "},e.prototype.cookErrorMessageStyles=function(e){return"\n        .ps-pnf-answer-item-error{\n            padding-top: 0.3rem;\n            font-size: 0.75rem;\n            color: "+e.text_colour+";\n            display: none;\n            opacity: 0.8;\n        }\n        .ps-pnf-answer-item.validated.invalid-answer + .ps-pnf-answer-item-error{\n            display: block;\n        }\n        "},e}()),O=new(function(){function e(){}return e.prototype.buildStyles=function(e){var t=e.deliverable.iframe.contentDocument,n=this.cookFooterStyles(e),i=this.cookActionStyles(e);T.insertStyles(t,"\n        "+n+"\n        "+i+"    \n        ")},e.prototype.cookFooterStyles=function(e){var t=e.bg_colour,n=e.text_colour;return"\n        .ps-pnf-footer{\n            position: relative;\n            background-color:   "+t+";\n            color:              "+n+";\n            padding:            0.5rem 1rem 1rem;\n            text-align:         center;\n        }\n        .ps-pnf-wrapper.ps-pnf-inactive > .ps-pnf-footer, .ps-pnf-wrapper.ps-pnf-not-acknowledged > .ps-pnf-footer{\n            display: none;\n        }\n        .ps-pnf-progress-bar{\n            width: 100%;\n            height: 1px;\n            background: "+e.button_color+";\n            margin: 1rem 0 0.75rem;\n        }\n        .ps-pnf-progress{\n            height: 1px;\n            background: "+n+";\n        }"},e.prototype.cookActionStyles=function(e){var t=e.bg_colour,n=e.text_colour,i=e.button_color;return"\n        .ps-pnf-action{\n            background: "+i+";\n            color: "+n+";\n            border-radius: 0.25rem;\n            padding: 0.5rem 1.5rem;\n            border: 1px solid "+t+";\n            outline: none;\n            cursor: pointer;\n            font-size: 0.875rem;\n            line-height: 0.85rem;\n            font-weight: 500;\n            height: 1.875rem;\n        }\n        .ps-pnf-action:hover{\n            opacity: 0.8;\n        }\n        .ps-pnf-action:disabled{\n            opacity: 0.4;\n        }\n        .ps-pnf-action-wrapper .accept-btn,.ps-pnf-action-wrapper .decline-btn{\n            min-width: 3rem;\n            height: 2rem;\n            border-radius: 0.25rem;\n            display: inline-block;\n            padding: 0.5rem 1rem;\n            margin: 0 0.25rem;\n            background: "+i+";\n        }\n        .ps-pnf-action-wrapper .decline-btn {\n            opacity: 0.75;\n        }\n        .ps-pnf-action-wrapper .accept-svg, .ps-pnf-action-wrapper .decline-svg{\n            fill: "+n+";\n            width: 1rem;\n            height: 1rem;\n        }"},e}()),N=new(function(){function e(){}return e.prototype.buildStyles=function(e){S.buildStyles(e),E.buildStyles(e),C.buildStyles(e),O.buildStyles(e),this.setIframeDimensions(e)},e.prototype.setIframeDimensions=function(e){var t=e.deliverable.iframe,n=e.theme,i="\n            height:    "+q(t.contentDocument.body)+"px;\n            width:    "+L(t.contentDocument.body)+"px;\n            border: 0;\n            box-sizing: border-box;\n            box-shadow: 0 0 8px 0 "+(2===n?"#999":"#EAEAEA")+";\n            border-radius: 5px 5px 0 0;\n            z-index: 2147483646;\n            transition: height 0.1s ease-in-out";t.setAttribute("style",i)},e.prototype.updateIframeDimensions=function(e){if(e&&e.contentDocument){var t=q(e.contentDocument.body),n=L(e.contentDocument.body);e.style.width=n+"px",e.style.height=t+"px"}},e}());function q(e){var t=e.querySelector(".ps-pnf-wrapper");return t?t.scrollHeight:e.scrollHeight}function L(e){var t=e.querySelector(".ps-pnf-wrapper");return t?t.clientWidth:e.scrollWidth}var R=document.createElement("div");R.className="accept-svg-wrapper ps-pnf-action-accept accept-btn",R.id="ps-pnf-action-button-accept",R.innerHTML='<?xml version="1.0" encoding="UTF-8"?>\n<svg width="18px" height="16px" viewBox="0 0 17 14" class="accept-svg" fill="#FFF" id="check" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    \x3c!-- Generator: Sketch 50.2 (55047) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>tick</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="New-Icons" stroke="none" stroke-width="1" fill-rule="evenodd">\n        <g id="Polls-Icons" transform="translate(-944.000000, -494.000000)">\n            <path d="M960.267039,497.527598 L951.385156,506.409669 C950.781716,507.012921 949.782269,507.012921 949.159971,506.409669 L944.728459,501.977968 C944.125019,501.374528 944.125019,500.375081 944.728459,499.752783 C945.331899,499.149343 946.331346,499.149343 946.953644,499.752783 L950.291421,503.090561 L958.060711,495.321271 C958.664151,494.717831 959.663599,494.717831 960.285896,495.321271 C960.870479,495.924711 960.870479,496.924158 960.267039,497.527598" id="tick"></path>\n        </g>\n    </g>\n</svg>';var I=R,B=document.createElement("div");B.className="decline-svg-wrapper ps-pnf-action-decline decline-btn",B.id="ps-pnf-action-button-decline",B.innerHTML='<?xml version="1.0" encoding="UTF-8"?>\n<svg width="16" height="16" viewBox="0 0 14 14"  class="decline-svg" fill="#FFF" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    \x3c!-- Generator: Sketch 50.2 (55047) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>Close</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="New-Icons" stroke="none" stroke-width="1" fill-rule="evenodd">\n        <g id="Polls-Icons" transform="translate(-904.000000, -494.000000)">\n            <g id="Close" transform="translate(904.000000, 494.000000)">\n                <path d="M12.5015867,10.6039306 L8.73812808,6.84263316 L12.4987051,3.07917451 C12.9323961,2.64692428 12.9323961,1.95172183 12.5001459,1.51803077 L12.1507436,1.16790809 C11.9461452,0.95754631 11.6644621,0.843 11.3690911,0.843 L11.3676503,0.843 C11.0722793,0.843 10.7949188,0.958987144 10.5874386,1.16718767 L6.82542083,4.93208715 L3.06196218,1.17151017 C2.63043237,0.739259945 1.93595034,0.737098694 1.50225927,1.16934892 L1.15213659,1.51586952 C0.941054396,1.72262921 0.825787669,2.00359186 0.825787669,2.29824243 C0.825787669,2.59433384 0.941774813,2.87313524 1.14997534,3.08061534 L4.91487482,6.84263316 L1.15357742,10.6060918 C0.719886363,11.0390625 0.719886363,11.7335445 1.15213659,12.1686764 L1.50153886,12.5180786 C1.70829855,12.7284404 1.98854078,12.8429867 2.28391177,12.8429867 C2.57784192,12.8429867 2.85880457,12.7255588 3.06556426,12.5187991 L6.82686166,8.75462 L10.5888795,12.5144766 C10.8021229,12.7298813 11.0859672,12.8393846 11.370532,12.8393846 C11.652215,12.8393846 11.9346185,12.7313221 12.1500232,12.5166378 L12.4994255,12.167956 C12.7112281,11.9633575 12.8257744,11.6816745 12.8257744,11.3863035 C12.8272152,11.0916529 12.7112281,10.8121311 12.5030276,10.6039306 L12.5015867,10.6039306 Z" id="Fill-1"></path>\n            </g>\n        </g>\n    </g>\n</svg>\n';var Q=B;function P(e){var t=e.target.iframeRef,n=e.target.templateRef;t&&n||(t=e.target.parentElement.iframeRef,n=e.target.parentElement.templateRef);var i=n;i.classList.contains("ps-pnf-active")?(i.classList.remove("ps-pnf-active"),i.classList.add("ps-pnf-inactive")):i.classList.contains("ps-pnf-inactive")?(i.classList.remove("ps-pnf-inactive"),i.classList.add("ps-pnf-active")):i.classList.add("ps-pnf-inactive"),N.updateIframeDimensions(t)}function M(e){var t=e.target.iframeRef,n=e.target.templateRef;n.classList.remove("ps-pnf-not-acknowledged"),n.classList.add("ps-pnf-acknowledged"),N.updateIframeDimensions(t)}function H(e){return 0===e.questionTypeId}var D=new(function(){function e(){}return e.prototype.get=function(e){var t=this.cookIframe(),n=this.cookTemplate(e);return{iframe:t,style:this.cookStyle(),template:n,triggerHandle:this.cookTriggerHandle(t,n),header:this.cookHeader(),question:this.cookQuestion(e),main:this.cookMain(),answer:this.cookAnswer(e),showAcknowledgeAnswers:this.cookAcknowledgeShowAnswers(t,n,e),footer:this.cookFooter(),action:this.cookAction(e),progress:this.cookProgressBar(e)}},e.prototype.cookIframe=function(){var e=document.createElement("iframe");return e.setAttribute("class","ps-pnf-iframe"),e},e.prototype.cookStyle=function(){return document.createElement("style")},e.prototype.cookTemplate=function(e){var t="desktop"==e.deviceType.toLowerCase()?"ps-pnf-acknowledged":"ps-pnf-not-acknowledged",n=document.createElement("article");return n.setAttribute("class","ps-pnf-wrapper ps-pnf-active "+t),n},e.prototype.cookTriggerHandle=function(e,t){var n=document.createElement("div");n.setAttribute("class","ps-pnf-trigger-handle");var i=document.createElement("div");return i.setAttribute("class","ps-pnf-trigger-arrow"),n.appendChild(i),n.removeEventListener("click",P.bind(this)),n.iframeRef=e,n.templateRef=t,n.addEventListener("click",P.bind(this)),n},e.prototype.cookHeader=function(){var e=document.createElement("header");return e.setAttribute("class","ps-pnf-header"),e},e.prototype.cookQuestion=function(e){var t=H(e),n=document.createElement("div");return n.setAttribute("class","ps-pnf-question  "+(t?"ps-pnf-thankyou-header":"")),t||(n.innerText=e.question),n},e.prototype.cookMain=function(){var e=document.createElement("main");return e.setAttribute("class","ps-pnf-main"),e},e.prototype.cookAnswer=function(e){var t=document.createElement("div");t.setAttribute("class","ps-pnf-answer");var n=A.cookAnswerTemplate(e);return n&&t.appendChild(n),t},e.prototype.cookAcknowledgeShowAnswers=function(e,t,n){var i=document.createElement("div");i.setAttribute("class","ps-pnf-acknowledge-answer");var r=document.createElement("button");return r.setAttribute("class","ps-pnf-action"),r.innerText=n.polls_ui_keys.reply_button_label,r.removeEventListener("click",M.bind(this)),r.iframeRef=e,r.templateRef=t,r.addEventListener("click",M.bind(this)),i.appendChild(r),i},e.prototype.cookFooter=function(){var e=document.createElement("footer");return e.setAttribute("class","ps-pnf-footer"),e},e.prototype.cookAction=function(e){var t=document.createElement("div");if(H(e))switch(e.thankyou_type){case 1:break;case 2:t=function(){var e=document.createElement("div");return e.setAttribute("class","ps-pnf-action-wrapper"),e.setAttribute("id","ps-pnf-action-wrapper"),e.appendChild(Q),e.appendChild(I),e}();break;case 3:t=function(e){var t;if(e.href.length&&e.href.match(/(http|https)\:\/\/[\w-]+(\.[\w-]+)+([\w.,@?^=%&amp;:\/~+#-]*[\w@?^=%&amp;\/~+#-])?/)){(t=document.createElement("a")).href=e.href,t.target="_blank",t.rel="noopener";var n=document.createElement("button");n.setAttribute("class","ps-pnf-action"),n.setAttribute("id","ps-pnf-action-button"),n.innerText=e.label,t.appendChild(n)}else(t=document.createElement("button")).setAttribute("class","ps-pnf-action"),t.setAttribute("id","ps-pnf-action-button"),t.innerText=e.label;return t}({label:e.thankyou_button_label,href:e.thankyou_button_link})}else(t=document.createElement("button")).setAttribute("class","ps-pnf-action"),t.setAttribute("id","ps-pnf-action-button"),t.innerText=100===e.progress||e.isLastQuestion?e.polls_ui_keys.last_button_label:e.polls_ui_keys.next_button_label;return t},e.prototype.cookProgressBar=function(e){var t=document.createElement("div");t.className="ps-pnf-progress-bar";var n=document.createElement("div");return n.className="ps-pnf-progress",n.style.width=(e.progress||0)+"%",t.appendChild(n),t},e}()),z=new(function(){function e(){}return e.prototype.assemble=function(e){e.header.appendChild(e.question),e.main.appendChild(e.answer),e.main.appendChild(e.showAcknowledgeAnswers),e.footer.appendChild(e.action),e.footer.appendChild(e.progress),e.template.appendChild(e.triggerHandle),e.template.appendChild(e.header),e.template.appendChild(e.main),e.template.appendChild(e.footer)},e.prototype.assembleOnlyHeaderAndMain=function(e){e.header.appendChild(e.question),e.main.appendChild(e.answer),e.main.appendChild(e.showAcknowledgeAnswers),e.footer.appendChild(e.action),e.footer.appendChild(e.progress)},e}()),G=new(function(){function e(){}return e.prototype.constructTemplate=function(e){var t;return t=D.get(e),z.assemble(t),t},e}()),F=new(function(){function e(){}return e.prototype.update=function(e,t){this.removeQuestion(t),this.removeAnswer(t),this.removeFooter(t);var n=D.cookQuestion(e);t.question=n;var i=D.cookAnswer(e);t.answer=i;var r=D.cookAction(e);t.action=r;var o=D.cookProgressBar(e);t.progress=o;var s=D.cookAcknowledgeShowAnswers(t.iframe,t.template,e);return t.showAcknowledgeAnswers=s,z.assembleOnlyHeaderAndMain(t),t},e.prototype.removeQuestion=function(e){for(var t=e.header;t.firstChild;)t.removeChild(t.firstChild)},e.prototype.removeAnswer=function(e){for(var t=e.main;t.firstChild;)t.removeChild(t.firstChild)},e.prototype.removeFooter=function(e){for(var t=e.footer;t.firstChild;)t.removeChild(t.firstChild)},e}()),J=new(function(){function e(){}return e.prototype.attachListener=function(e,t){var n=t.answer,i=t.action;(n.querySelector("input")||n.querySelector("textarea"))&&(n.removeEventListener("click",W.bind(this)),n.deliverable=t,n.is_mandatory=e.is_mandatory,n.questionTypeId=e.questionTypeId,n.addEventListener("click",W.bind(this)),n.removeEventListener("keyup",W.bind(this)),n.addEventListener("keyup",W.bind(this)),function(e){switch(e){case g.STAR_RATING:return!0;default:return!1}}(e.questionTypeId)&&(n.removeEventListener("mouseover",Z.bind(this)),n.addEventListener("mouseover",Z.bind(this)),n.removeEventListener("mouseout",W.bind(this)),n.addEventListener("mouseout",W.bind(this))),i&&(i.removeEventListener("click",V.bind(this)),i.deliverable=t,i.questionTypeId=e.questionTypeId,i.addEventListener("click",V.bind(this)))),j(t,e.is_mandatory)},e}());function V(e){if(U(e)){var t=e.currentTarget.deliverable,n=e.currentTarget.questionTypeId;if(t&&n)switch(n){case g.EMAIL:var i=t.answer.querySelector("input[type=email]");i.classList.add("validated"),N.updateIframeDimensions(e.currentTarget.deliverable.iframe),!i.checkValidity()&&e.stopImmediatePropagation()}}}function W(e){if(U(e)){switch(e.currentTarget.questionTypeId){case g.EMAIL:!function(e){var t=function(e){return"input"==e.target.tagName.toLowerCase()&&"email"==e.target.type?e.target:e.currentTarget.querySelector("input[type=email]")||!1}(e);t&&(t.checkValidity()?(e.target.classList.remove("invalid-answer"),e.currentTarget.classList.remove("invalid-answer"),e.target.classList.add("valid-answer"),e.currentTarget.classList.add("valid-answer")):(e.target.classList.remove("valid-answer"),e.currentTarget.classList.remove("valid-answer"),e.target.classList.add("invalid-answer"),e.currentTarget.classList.add("invalid-answer")))}(e);case g.STAR_RATING:!function(e){var t=e.currentTarget.querySelectorAll("input"),n=e.currentTarget.querySelectorAll("input:checked"),i=!1;if(t)if(n&&n.length){e.currentTarget.classList.add("ps-pnf-answer-validated");for(var r=0;r<t.length;r++){var o=t[r];i?o.classList.remove("in-selected-range"):o.classList.add("in-selected-range"),n[0].isSameNode(o)&&(i=!0)}}else for(r=0;r<t.length;r++){(o=t[r]).classList.remove("in-selected-range")}}(e);case g.SMILEY_RATING:!function(e){var t=e.currentTarget.querySelectorAll("input"),n=e.currentTarget.querySelectorAll("input:checked");!t||e.currentTarget.className.indexOf("ps-pnf-answer-validated")>=0||n&&n.length&&e.currentTarget.classList.add("ps-pnf-answer-validated")}(e)}N.updateIframeDimensions(e.currentTarget.deliverable.iframe),j(e.currentTarget.deliverable,e.currentTarget.is_mandatory)}else j(e.currentTarget.deliverable,e.currentTarget.is_mandatory)}function Z(e){if(U(e))switch(e.currentTarget.questionTypeId){case g.STAR_RATING:!function(e){var t=function(e,t){if(!e)return null;for(;!e.classList||!e.classList.contains("ps-pnf-star-rating-item");)if(!(e=e.parentNode))return null;return e}(e.target);if(t){var n=e.currentTarget.querySelectorAll("input"),i=t.querySelectorAll("input"),r=!1;if(n&&i&&i.length)for(var o=0;o<n.length;o++){var s=n[o];r?s.classList.remove("in-selected-range"):s.classList.add("in-selected-range"),i[0].isSameNode(s)&&(r=!0)}}}(e);default:return!1}}function U(e){return e.currentTarget.deliverable&&e.currentTarget.deliverable.iframe}function j(e,t){var n,i=e.answer.querySelectorAll("input.ps-pnf-answer-item"),r=e.answer.querySelectorAll("textarea.ps-pnf-answer-item"),o=i.length?i:r;if(o&&o.length){for(var s=!t,a=0;a<o.length;a++){var l=o[a];if("checkbox"!=l.type&&"radio"!=l.type||!l.checked)"text"!=l.type&&"textarea"!=l.type&&"email"!=l.type||""===l.value||(s=!0);else{var p=e.answer.querySelector('textarea[opt_cmt_id="'+l.id+'"]');if(p&&p.required){if(!(s=p.checkValidity()))break}else s=!0}}s?(n=e.footer.querySelector("button"))&&(n.disabled=!1):function(e){var t=e.querySelector("button");t&&(t.disabled=!0)}(e.footer)}}function K(e,t){return e.length>7?function(e,t){var n=e.split(","),i=t<0?0:255,r=t<0?-1*t:t,o=parseInt(n[0].slice(4)),s=parseInt(n[1]),a=parseInt(n[2]);return"rgb("+(Math.round((i-o)*r)+o)+","+(Math.round((i-s)*r)+s)+","+(Math.round((i-a)*r)+a)+")"}(e,t):function(e,t){var n=parseInt(e.slice(1),16),i=t<0?0:255,r=t<0?-1*t:t,o=n>>16,s=n>>8&255,a=255&n;return"#"+(16777216+65536*(Math.round((i-o)*r)+o)+256*(Math.round((i-s)*r)+s)+(Math.round((i-a)*r)+a)).toString(16).slice(1)}(e,t)}n(2);var Y=new(function(){function e(){}return e.prototype.getLighterShade=function(e){return{answer_shade:K(e,.2),button_shade:K(e,.25)}},e.prototype.getDarkerShade=function(e){return{answer_shade:K(e,-.15),button_shade:K(e,-.2)}},e}()),X=function(){function e(){}return e.prototype.buildTemplate=function(e){return G.constructTemplate(e)},e.prototype.didAppendIframe=function(e){try{$(e)}catch(t){setTimeout(function(){$(e)},500)}},e.prototype.updateTemplate=function(e,t){var n=F.update(e,t.deliverable);return t.deliverable=n,N.setIframeDimensions(t),this.attachListener(e,t),n},e.prototype.generateColorShades=function(e,t){var n;switch(t){case 1:n=Y.getDarkerShade(e);break;case 2:n=Y.getLighterShade(e)}return n},e.prototype.attachListener=function(e,t){J.attachListener(e,t.deliverable)},e}();function $(e){try{var t=e.deliverable.iframe,n=t.contentDocument||t.contentWindow.document;if(["interactive","complete","loading"].indexOf(n.readyState)>=0)ee(e);else{var i=function(e){var t=e.currentTarget.settingsRef||e.target.settingsRef;t&&ee(t)}.bind(this);t.settingsRef=e,t.addEventListener("load",i)}}catch(e){return!1}}function ee(e){var t=e.deliverable,n=t.iframe.contentDocument,i=t.style,r=t.template;n.head.appendChild(i),n.body.appendChild(r),N.buildStyles(e)}window.PollsAndFeedbackPresets=new X}])},function(e,t,n){"use strict";n.r(t);var i={getTotalIframe:function(){return document.getElementsByClassName("ps-pnf-iframe-wrapper")[0]},getWrapper:function(){return v.iframe.contentDocument.getElementsByClassName("ps-pnf-wrapper")[0]},getHeader:function(){return v.iframe.contentDocument.getElementsByClassName("ps-pnf-header")[0]},getQuestion:function(){return v.iframe.contentDocument.getElementsByClassName("ps-pnf-question")[0]},getMain:function(){return v.iframe.contentDocument.getElementsByClassName("ps-pnf-main")[0]},getAnswer:function(){return v.iframe.contentDocument.getElementsByClassName("ps-pnf-answer-item")[0]},getFooter:function(){return v.iframe.contentDocument.getElementsByClassName("ps-pnf-footer")[0]},getAction:function(){return v.iframe.contentDocument.getElementById("ps-pnf-action-button")},getRadioOrCheckBoxOptions:function(){return v.iframe.contentDocument.getElementsByName("ps-pnf-option")},getNPSButtons:function(){return v.iframe.contentDocument.getElementsByName("ratingBtn")},getCommentBox:function(e){return v.iframe.contentDocument.getElementById("ps-pnf-comment-"+e)},getConsentAcceptButton:function(){return v.iframe.contentDocument.getElementById("ps-pnf-action-button-accept")},getConsentDeclineButton:function(){return v.iframe.contentDocument.getElementById("ps-pnf-action-button-decline")}},r={pollsJson:window.ZAB.pollsMainJSON,pollsQuestions:window.ZAB.pollsMainJSON.questions.poll_questions,zab:window.ZAB.zab,ZAB:window.ZAB,pollCookieName:"pollsExp",POSITION_CONSTANTS:{LEFT_BOTTOM:1,RIGHT_BOTTOM:2},THEME_CONSTANTS:{LIGHT:{ID:1,BG_COLOR:"#EAEAEA",TEXT_COLOR:"#111"},DARK:{ID:2,BG_COLOR:"#333333",TEXT_COLOR:"#EAEAEA"}}},o=function(e,t,n){return window._zps.api("setCookie",[e,t,n])},s=function(e){return window._zps.api("deleteCookie",[e])},a=function(e){return window._zps.api("checkCookieExists",[e])},l=function(e){return window._zps.api("getCookieValue",[e])},p={getPollsCookie:function(){var e,t=window.ZAB.pollsandfeedbackexperiment.key,n=a("zpspolls_"+t),i=a(t+"polls");if(n)e=JSON.parse(l("zpspolls_"+t));else if(i){var o=JSON.parse(l(t+"polls"));r.zab.exists(o)&&(e=o,this.migratePollsCookie(e,o.cookieCreatedTime),s(t+"polls"))}return e},migratePollsCookie:function(e,t){var n=window.ZAB.pollsandfeedbackexperiment.key,i=t+31536e6;o("zpspolls_"+n,JSON.stringify(e),i)},setOrUpdateCookie:function(e){var t,n=new Date,i="zpspolls_"+window.ZAB.pollsandfeedbackexperiment.key;this.checkIfCookieExists()?t=this.getPollsCookie().cookieCreatedTime:t=n.getTime();var r=t+31536e6;o(i,JSON.stringify(e),r)},setPollAttendedOnce:function(){var e=this.getPollsCookie();e.respondedAlreadyOnce=!0,this.setOrUpdateCookie(e)},increasePollShownCount:function(){var e=this.getPollsCookie(),t=e.shown_count;t++,e.shown_count=t,this.setOrUpdateCookie(e)},checkIfCookieExists:function(){var e=window.ZAB.pollsandfeedbackexperiment.key,t=a("zpspolls_"+e);return a(e+"polls")||t}},c={SHORT_ANSWER:1,LONG_ANSWER:2,RADIO_BUTTON:3,CHECK_BOX:4,NPS:5,EMAIL:6,ONE_TO_FIVE:7,ONE_TO_SEVEN:8,STAR:9,EMOJI:10},u={NEXT:1,THANKYOU:2,LINKED_QN:3,ANSWER_BASED:4},d={SHOW_TILL_ANSWERED:1,SHOW_ALWAYS:2,SHOW_ONCE:3,SHOW_N_TIMES:4},m={goToNextQuestionInSequence:function(){for(var e=0;e<r.pollsQuestions.length;e++){var t=!1;if(r.pollsQuestions[e].sequence==this.currQn.sequence+1)return t=!0,void(this.currQn=r.pollsQuestions[e])}t||this.getThankYouJSON()},getThankYouJSON:function(){var e={question_text:r.pollsJson.questions.thankyou_text,question_type:0,answers:[]};this.currQn=e,g.setCompleted(),p.setPollAttendedOnce(),1!=r.pollsJson.questions.thankyou_type&&3!=r.pollsJson.questions.thankyou_type||setTimeout(function(){var e,t;e=i.getTotalIframe(),(t=e.parentElement)&&t.removeChild(e)},1e4)},getNextQuestionJson:function(e){if(e)this.currQn=r.pollsQuestions[0];else switch(this.currQn.logics.question_logic_type){case u.NEXT:this.goToNextQuestionInSequence();break;case u.THANKYOU:this.getThankYouJSON();break;case u.LINKED_QN:for(var t=0;t<r.pollsQuestions.length;t++)if(r.pollsQuestions[t].question_id==this.currQn.logics.linked_question_id){this.currQn=r.pollsQuestions[t];break}break;case u.ANSWER_BASED:if(0==this.answerArray.length)this.goToNextQuestionInSequence();else switch(this.answerArray[0].logicType){case"1":this.goToNextQuestionInSequence();break;case"2":this.getThankYouJSON();break;case"3":for(t=0;t<r.pollsQuestions.length;t++)if(r.pollsQuestions[t].question_id==this.answerArray[0].linkedQn){this.currQn=r.pollsQuestions[t];break}}}return this.setProgress(),this.currQn},setProgress:function(){var e=this.currQn.sequence+1,t=r.pollsQuestions.length,n=e?e/t*100:100;this.progress=n}};var f={generatePollsRawData:function(){var e={a:window.ZAB.data.portal_name,b:window.ZAB.pollsandfeedbackexperiment.key,n:!window.ZAB.returning};return g.getStarted()&&(e.pos=g.getStarted()),g.getCompleted()&&(e.poc=g.getCompleted()),g.getFocused()&&(e.pof=g.getFocused()),g.getImpresseion()&&(e.pi=g.getImpresseion()),g.getResponded()&&(e.pr=g.getResponded()),g.getConsentGiven()&&(e.pc=g.getConsentGiven()),e},generatePollsVisitorInfo:function(){var e=this.generatePollsRawData();return[].push(e),r.zab.generateUserAgentData(),{pord:e,urd:window.ZAB.useragentrawdata}},sendVisitorData:function(){var e=this.generatePollsVisitorInfo();r.zab.sendDataToServer(11,e)},generatePollsAnswerInfo:function(){var e=this.generatePollsRawData(),t={pqid:m.currQn.question_id.toString(),poaa:g.getQuestionAbandoned(),poat:m.currQn.question_type,poae:m.currQn.is_encrypted,pans:_.answerArray};return g.getQuestionStarted()&&(t.poas=g.getQuestionStarted()),g.getQuestionCompleted()&&(t.poac=g.getQuestionCompleted()),g.getQuestionFocused()&&(t.poaf=g.getQuestionFocused()),{poard:t,pord:e,urd:window.ZAB.useragentrawdata}},sendAnswerData:function(){var e=this.generatePollsAnswerInfo();r.zab.sendDataToServer(13,e),_.answerArray=[]}},g={getFocused:function(){return this.pollsfocused?1:0},setFocused:function(){this.pollsfocused=!0,f.sendVisitorData()},getStarted:function(){return this.pollsstarted?1:0},setStarted:function(){this.pollsstarted=!0,f.sendVisitorData()},getCompleted:function(){return this.pollscompleted?1:0},setCompleted:function(){this.pollscompleted=!0,f.sendVisitorData()},getConsentGiven:function(){return this.consentGiven?1:0},setConsentGiven:function(){this.consentGiven=!0,f.sendVisitorData()},getQuestionFocused:function(){return m.currQn.focused?1:0},getQuestionStarted:function(){return m.currQn.started?1:0},getQuestionCompleted:function(){return m.currQn.completed?1:0},getQuestionAbandoned:function(){return m.currQn.abandoned?1:0},setImpression:function(){this.pollsImpression=!0},getImpresseion:function(){return this.pollsImpression?1:0},setResponded:function(){this.pollsResponded=!0,f.sendVisitorData()},getResponded:function(){return this.pollsResponded?1:0}},h={addNeccessaryListeners:function(){switch(m.currQn.question_type){case c.EMAIL:case c.SHORT_ANSWER:case c.LONG_ANSWER:this.addListenersToTextInputs();break;case c.RADIO_BUTTON:case c.CHECK_BOX:this.addListenersToRadioAndCheckBoxes();break;case c.NPS:case c.ONE_TO_FIVE:case c.ONE_TO_SEVEN:case c.STAR:case c.EMOJI:this.addListenersToNPSItems()}},addListenersToTextInputs:function(){i.getAnswer().addEventListener("focus",function(){var e=m.currQn.focused;m.currQn.focused=!0,m.currQn.abandoned=!0,g.pollsfocused||g.setFocused(),e||f.sendAnswerData()}),i.getAnswer().addEventListener("keyup",function(){var e=m.currQn.started;m.currQn.started=!0,g.pollsstarted||g.setStarted(),e||f.sendAnswerData()})},addListenersToRadioAndCheckBoxes:function(){for(var e=this,t=function(){var t=i.getRadioOrCheckBoxOptions()[n];t.addEventListener("click",function(){e.changeButtonLabel(t);var n=m.currQn.focused;m.currQn.focused=!0,m.currQn.abandoned=!0,g.pollsfocused||g.setFocused(),m.currQn.started=!0,g.pollsstarted||g.setStarted(),n||f.sendAnswerData()})},n=0;n<i.getRadioOrCheckBoxOptions().length;n++)t()},addListenersToNPSItems:function(){for(var e=this,t=function(){var t=i.getNPSButtons()[n];t.addEventListener("click",function(n){e.changeButtonLabel(t);var i=m.currQn.focused;m.currQn.focused=!0,m.currQn.abandoned=!0,g.pollsfocused||g.setFocused(),m.currQn.started=!0,g.pollsstarted||g.setStarted(),i||f.sendAnswerData()})},n=0;n<i.getNPSButtons().length;n++)t()},addListenerToAcceptAndDeclineConsent:function(){i.getConsentAcceptButton()&&i.getConsentAcceptButton().addEventListener("click",function(){g.setConsentGiven(),b(i.getTotalIframe())}),i.getConsentDeclineButton()&&i.getConsentDeclineButton().addEventListener("click",function(){b(i.getTotalIframe())})},changeButtonLabel:function(e){m.currQn.sequence!=r.pollsQuestions.length-1&&(2==e.getAttribute("logictype")?i.getAction().innerText=r.pollsJson.questions.polls_ui_keys.last_button_label:i.getAction().innerText=r.pollsJson.questions.polls_ui_keys.next_button_label)}};function b(e){var t=e.parentElement;t&&t.removeChild(e)}var y={registerAnswer:function(){var e=[],t=[],n={};switch(m.currQn.question_type){case c.EMAIL:case c.SHORT_ANSWER:case c.LONG_ANSWER:n.answer_text=i.getAnswer().value,""!==n.answer_text&&e.push(n);break;case c.RADIO_BUTTON:case c.CHECK_BOX:for(var r=0;r<i.getRadioOrCheckBoxOptions().length;r++){var o=i.getRadioOrCheckBoxOptions()[r],s={},a={};o.checked&&(s.answer_text=o.value,i.getCommentBox(o.getAttribute("ans_id"))&&(s.answer_comment=i.getCommentBox(o.getAttribute("ans_id")).value),s.answer_id=o.getAttribute("ans_id"),e.push(s),a.answer_text=o.value,a.answer_id=o.getAttribute("ans_id"),a.linkedQn=o.getAttribute("linkedQn"),a.logicType=o.getAttribute("logicType"),t.push(a))}break;case c.NPS:case c.ONE_TO_FIVE:case c.ONE_TO_SEVEN:case c.STAR:case c.EMOJI:for(r=0;r<i.getNPSButtons().length;r++){var l=i.getNPSButtons()[r],p={},u={};l.checked&&(p.answer_text=l.value,p.answer_id=l.getAttribute("ans_id"),e.push(p),u.answer_text=l.value,u.answer_id=l.getAttribute("ans_id"),u.linkedQn=l.getAttribute("linkedQn"),u.logicType=l.getAttribute("logicType"),t.push(u))}}this.answerArray=e,m.answerArray=t,0!==this.answerArray.length?(m.currQn.completed=!0,m.currQn.abandoned=!1,g.getResponded()||g.setResponded()):m.currQn.abandoned=!0,f.sendAnswerData()},addListenersToSendButton:function(e){var t=this;e.action.addEventListener("click",function(n){if(m.currQn.question_type==c.EMAIL&&!t.validateEmailInput())return;if(0!==m.currQn.question_type){t.registerAnswer();var i=m.getNextQuestionJson(!1);window.ZAB.pollsMainJSON.currentQuestion++;var r=v.updateBuilderElements(i);v.setInnerContentInIframe(r),y.addListenersToSendButton(e),t.prevRef=r,h.addListenerToAcceptAndDeclineConsent()}})},validateEmailInput:function(){var e=i.getAnswer();return e.classList.add("validated"),e.checkValidity()}},_=y,v=(n(0),{prevTemplate:"",getConfigJson:function(){return{question:m.currQn.question_text,questionTypeId:m.currQn.question_type,options:m.currQn.answers,is_mandatory:m.currQn.is_mandatory,deviceType:r.ZAB.useragentrawdata.dv,show_thankyou_button:r.pollsJson.questions.show_thankyou_button,thankyou_button_label:r.pollsJson.questions.thankyou_button_label,thankyou_button_link:r.pollsJson.questions.thankyou_button_link,thankyou_consent:r.pollsJson.questions.thankyou_consent,thankyou_type:r.pollsJson.questions.thankyou_type,progress:m.progress,polls_ui_keys:{next_button_label:r.pollsJson.questions.polls_ui_keys.next_button_label,reply_button_label:r.pollsJson.questions.polls_ui_keys.reply_button_label,last_button_label:r.pollsJson.questions.polls_ui_keys.last_button_label,powered_by:r.pollsJson.questions.polls_ui_keys.powered_by,short_q_placeholder:r.pollsJson.questions.polls_ui_keys.short_q_placeholder,long_q_placeholder:r.pollsJson.questions.polls_ui_keys.long_q_placeholder,email_q_placeholder:r.pollsJson.questions.polls_ui_keys.email_q_placeholder,email_q_error_text:r.pollsJson.questions.polls_ui_keys.email_q_error_text,checkbox_q_desc_placeholder:r.pollsJson.questions.polls_ui_keys.checkbox_q_desc_placeholder,smiley_q_labels:r.pollsJson.questions.polls_ui_keys.smiley_q_labels,radio_q_desc_placeholder:r.pollsJson.questions.polls_ui_keys.radio_q_desc_placeholder}}},getPollConfig:function(){return{deliverable:_.prevRef,position:r.pollsJson.questions.position,theme:r.pollsJson.questions.theme,bg_colour:r.pollsJson.questions.bg_colour,text_colour:r.pollsJson.questions.text_colour,button_color:r.pollsJson.questions.button_color,answer_colour:r.pollsJson.questions.question_option_colour,deviceType:r.ZAB.useragentrawdata.dv}},getBuilderElements:function(e){return window.PollsAndFeedbackPresets.buildTemplate(this.getConfigJson())},updateBuilderElements:function(e){return window.PollsAndFeedbackPresets.updateTemplate(this.getConfigJson(),this.getPollConfig())},setPollsOuterSkeleton:function(){var e=this.getBuilderElements(m.getNextQuestionJson(!0));_.prevRef=e,document.body.appendChild(e.iframe);var t=document.createElement("style");switch(r.pollsJson.questions.position){case 1:t.innerHTML="\n      .ps-pnf-iframe-wrapper{\n        position: fixed;\n        bottom: 0%;\n        left: 3%;\n      }";break;case 2:t.innerHTML="\n      .ps-pnf-iframe-wrapper{\n        position: fixed;\n        bottom: 0%;\n        right: 3%;\n      }";break;case 3:t.innerHTML="\n      .ps-pnf-iframe-wrapper{\n        position: fixed;\n        bottom: 0;\n        right: 0;\n        left : 0;\n        top :0;\n        margin: auto auto;\n      }"}document.body.appendChild(t),e.iframe.setAttribute("class","ps-pnf-iframe-wrapper"),window.PollsAndFeedbackPresets.didAppendIframe(this.getPollConfig()),window.PollsAndFeedbackPresets.attachListener(this.getConfigJson(),this.getPollConfig()),this.iframe=e.iframe,this.iframe.contentDocument.body.appendChild(e.template),this.setInnerContentInIframe(e),_.addListenersToSendButton(e)},setInnerContentInIframe:function(e){this.prevHeader&&i.getWrapper().removeChild(this.prevHeader),this.prevMain&&i.getWrapper().removeChild(this.prevMain),i.getWrapper().insertBefore(e.header,i.getFooter()),i.getWrapper().insertBefore(e.main,i.getFooter()),h.addNeccessaryListeners(e),this.prevHeader=e.header,this.prevMain=e.main}}),k=new(function(){function e(){this.fulfillsShowCountCondition=!1,this.expTriggerHandlerBind=this.expTriggerHandler.bind(this),"interactive"==document.readyState||"complete"==document.readyState?this.checkPollPersistence():document.addEventListener("DOMContentLoaded",this.checkPollPersistence.bind(this))}return e.prototype.checkPollPersistence=function(){if(f.sendVisitorData(),!p.checkIfCookieExists()){var e=new Date;return p.setOrUpdateCookie({respondedAlreadyOnce:!1,shown_count:0,cookieCreatedTime:e.getTime()}),void this.initializePoll()}var t=p.getPollsCookie();switch(window.ZAB.pollsandfeedbackexperiment.response_type){case d.SHOW_TILL_ANSWERED:t.respondedAlreadyOnce||this.initializePoll();break;case d.SHOW_ALWAYS:this.initializePoll();break;case d.SHOW_ONCE:t.shown_count<1&&this.initializePoll();break;case d.SHOW_N_TIMES:t.shown_count<window.ZAB.pollsandfeedbackexperiment.response_value&&!t.respondedAlreadyOnce&&this.initializePoll()}},e.prototype.initializePoll=function(){this.fulfillsShowCountCondition=!0,window._zps.api("checkIfACustomTriggerIsAlreadyAccomplished",[window.ZAB.pollsandfeedbackexperiment.key])?this.doSetShowPoll():this.setupListenerForExpTrigger()},e.prototype.setupListenerForExpTrigger=function(){this.removeListenerForExpTrigger(),window.addEventListener("zps-trigger-achieved",this.expTriggerHandlerBind)},e.prototype.removeListenerForExpTrigger=function(){window.removeEventListener("zps-trigger-achieved",this.expTriggerHandlerBind)},e.prototype.expTriggerHandler=function(e){e.detail.experimentKey===window.ZAB.pollsandfeedbackexperiment.key&&(this.doSetShowPoll(),this.removeListenerForExpTrigger())},e.prototype.doSetShowPoll=function(){this.fulfillsShowCountCondition&&(g.setImpression(),f.sendVisitorData(),v.setPollsOuterSkeleton(),p.increasePollShownCount())},e}());t.default=k}]);